"use strict";$(window).on("load",function(){var e=$("#preloader");e.find(".loader").fadeOut(),e.delay(500).fadeOut("slow"),setTimeout(function(){$("html, body").css("overflow","visible")},1500)}),$(document).ready(function(){var n=$("html, body"),e=$(".search"),t=e.find("input"),o=$(".search-list"),s=$(".counter-value"),i=$(".slider-logos"),l=$(".section3"),a=$(".big-slider"),r=$(".slide-counter"),c="500",d=$("#up-button"),u=$(".extension-slider"),f=!0,h=!0;$("[animation]").addClass("hidden"),$("[slide-animation]").addClass("hidden"),t.on("input",function(){t.val().split(" ").join("").length?(o.addClass("show"),e.addClass("active")):(o.removeClass("show"),e.removeClass("active"))}),u.slick({infinite:!0,autoplay:!0,speed:c,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,dots:!1,arrows:!1,useTransform:!0}),i.slick({infinite:!0,autoplay:!0,speed:c,slidesToShow:5,slidesToScroll:1,swipeToSlide:!0,dots:!1,arrows:!1,useTransform:!0}),a.slick({infinite:!1,vertical:!0,dots:!0,arrows:!0,speed:c,appendDots:$(".slide-dots"),appendArrows:$(".slide-arrows"),prevArrow:'<a href=""><img src="./img/icons/arrow-left.svg"></a>',nextArrow:'<a href=""><img src="./img/icons/arrow-right.svg"></a>',useTransform:!0}),a.on("init reInit afterChange",function(e,t,o,i){var s=(o||0)+1;r.html("<span class='current-slide'>"+("00"+s).slice(-2)+"</span><span class='total-slide'>/"+("00"+t.slideCount).slice(-2)+"</span>"),$(t.$slides.get(o)).find("[slide-animation]").each(function(){var e=$(this).attr("slide-animation");$(this).hasClass(e)||$(this).addClass(e).removeClass("hidden")})}),l.on("wheel",function(e){e.preventDefault(),f&&(0<e.originalEvent.deltaY?a.slick("slickCurrentSlide")+1<a.slick("getSlick").slideCount?(a.slick("slickNext"),n.animate({scrollTop:l.offset().top},c)):n.animate({scrollTop:l.next().offset().top},c):0<a.slick("slickCurrentSlide")?(a.slick("slickPrev"),n.animate({scrollTop:l.offset().top},c)):n.animate({scrollTop:l.offset().top-$(window).height()},c),f=!1,setTimeout(function(){f=!0},500))}),$(window).on("wheel",function(){var e=$(this).scrollTop(),t=e+$(this).height(),o=l.offset().top,i=o+l.outerHeight(),s=o<e?e:o,a=t<i?t:i;a-s>=.25*l.outerHeight()&&a-s<=.5*l.outerHeight()&&n.animate({scrollTop:l.offset().top},c)}),$(window).on("scroll",function(){var i=$(this).scrollTop()+$(this).height();300<$(window).scrollTop()?d.addClass("show"):d.removeClass("show"),s.each(function(){var e=$(this).offset().top;if(h&&e<=i){var t=$(this),o=t.attr("data-count");$({countNum:t.text()}).animate({countNum:o},{duration:2e3,easing:"swing",step:function(){t.text(Math.floor(this.countNum))},complete:function(){t.text(this.countNum.toLocaleString())}}),h=!1}}),$("[animation]").each(function(){var e=$(this),t=e.offset().top,o=e.attr("animation");t<=i&&!e.hasClass(o)&&e.addClass(o).removeClass("hidden")})}),d.on("click",function(e){e.preventDefault(),n.animate({scrollTop:0},"300")}),$(".area").on("click",function(){n.animate({scrollTop:l.next().offset().top},c)}),$("#callback").validate({rules:{name:{required:!0,minlength:4,maxlength:16},emailtel:{required:!0}},messages:{name:{required:"Это поле обязательно для заполнения",minlength:"Имя должно быть минимум 4 символа",maxlength:"Максимальное число символов - 16"},emailtel:{required:"Это поле обязательно для заполнения"}},submitHandler:function(e){return $("#callback").hide("slow",function(){$("#callback").html("<div class='done'>Данные успешно отправлены!</div>")}),$("#callback").show("slow"),!1}}),$("a[name=modal]").click(function(e){e.preventDefault();var t=$(this).attr("href");$(t).fadeIn(500)}),$(".modalWrapper .close").click(function(e){e.preventDefault(),$(".modalWrapper").fadeOut(500)}),$(".modalWrapper").on("click",function(e){e.target===this&&$(".modalWrapper").fadeOut(500)}),$("a[name=download]").click(function(e){e.preventDefault();var t=detect.parse(navigator.userAgent);"Desktop"==t.device.type?["Firefox","Safari","Chrome","Opera"].includes(t.browser.family)?console.log("Зашли с десктопа и правильного браузера"):($(".browserName").text(t.browser.name),$("#error2").fadeIn(500)):$("#error").fadeIn(500)})});